  Activating project at `/Net/Groups/BGI/scratch/mweynants/ExtremeEvents`
┌ Warning: There are still cache misses
└ @ YAXArrays.DAT /Net/Groups/BGI/scratch/mweynants/julia_depots/packages/YAXArrays/LgxQX/src/DAT/DAT.jl:1067
Worker 2 terminated.
UNHANDLED TASK ERROR: EOFError: read end of file
Stacktrace:
 [1] (::Base.var"#wait_locked#680")(s::Sockets.TCPSocket, buf::IOBuffer, nb::Int64)
   @ Base ./stream.jl:941
 [2] unsafe_read(s::Sockets.TCPSocket, p::Ptr{UInt8}, nb::UInt64)
   @ Base ./stream.jl:950
 [3] unsafe_read
   @ ./io.jl:759 [inlined]
 [4] unsafe_read(s::Sockets.TCPSocket, p::Base.RefValue{NTuple{4, Int64}}, n::Int64)
   @ Base ./io.jl:758
 [5] read!
   @ ./io.jl:760 [inlined]
 [6] deserialize_hdr_raw
   @ /Net/Groups/BGI/scratch/julia/julia-1.8.1/share/julia/stdlib/v1.8/Distributed/src/messages.jl:167 [inlined]
 [7] message_handler_loop(r_stream::Sockets.TCPSocket, w_stream::Sockets.TCPSocket, incoming::Bool)
   @ Distributed /Net/Groups/BGI/scratch/julia/julia-1.8.1/share/julia/stdlib/v1.8/Distributed/src/process_messages.jl:172
 [8] process_tcp_streams(r_stream::Sockets.TCPSocket, w_stream::Sockets.TCPSocket, incoming::Bool)
   @ Distributed /Net/Groups/BGI/scratch/julia/julia-1.8.1/share/julia/stdlib/v1.8/Distributed/src/process_messages.jl:133
 [9] (::Distributed.var"#103#104"{Sockets.TCPSocket, Sockets.TCPSocket, Bool})()
   @ Distributed ./task.jl:484
ERROR: LoadError: ProcessExitedException(2)
Stacktrace:
  [1] try_yieldto(undo::typeof(Base.ensure_rescheduled))
    @ Base ./task.jl:871
  [2] wait()
    @ Base ./task.jl:931
  [3] wait(c::Base.GenericCondition{ReentrantLock})
    @ Base ./condition.jl:124
  [4] take_buffered(c::Channel{Any})
    @ Base ./channels.jl:416
  [5] take!(c::Channel{Any})
    @ Base ./channels.jl:410
  [6] take!(::Distributed.RemoteValue)
    @ Distributed /Net/Groups/BGI/scratch/julia/julia-1.8.1/share/julia/stdlib/v1.8/Distributed/src/remotecall.jl:726
  [7] remotecall_fetch(f::Function, w::Distributed.Worker, args::Tuple{UnitRange{Int64}}; kwargs::Base.Pairs{Symbol, Union{}, Tuple{}, NamedTuple{(), Tuple{}}})
    @ Distributed /Net/Groups/BGI/scratch/julia/julia-1.8.1/share/julia/stdlib/v1.8/Distributed/src/remotecall.jl:461
  [8] remotecall_fetch(f::Function, w::Distributed.Worker, args::Tuple{UnitRange{Int64}})
    @ Distributed /Net/Groups/BGI/scratch/julia/julia-1.8.1/share/julia/stdlib/v1.8/Distributed/src/remotecall.jl:454
  [9] remotecall_fetch(f::Function, id::Int64, args::Tuple{UnitRange{Int64}}; kwargs::Base.Pairs{Symbol, Union{}, Tuple{}, NamedTuple{(), Tuple{}}})
    @ Distributed /Net/Groups/BGI/scratch/julia/julia-1.8.1/share/julia/stdlib/v1.8/Distributed/src/remotecall.jl:492
 [10] remotecall_fetch
    @ /Net/Groups/BGI/scratch/julia/julia-1.8.1/share/julia/stdlib/v1.8/Distributed/src/remotecall.jl:492 [inlined]
 [11] remotecall_pool(rc_f::typeof(remotecall_fetch), f::Function, pool::WorkerPool, args::Tuple{UnitRange{Int64}}; kwargs::Base.Pairs{Symbol, Union{}, Tuple{}, NamedTuple{(), Tuple{}}})
    @ Distributed /Net/Groups/BGI/scratch/julia/julia-1.8.1/share/julia/stdlib/v1.8/Distributed/src/workerpool.jl:123
 [12] remotecall_pool
    @ /Net/Groups/BGI/scratch/julia/julia-1.8.1/share/julia/stdlib/v1.8/Distributed/src/workerpool.jl:120 [inlined]
 [13] #remotecall_fetch#200
    @ /Net/Groups/BGI/scratch/julia/julia-1.8.1/share/julia/stdlib/v1.8/Distributed/src/workerpool.jl:229 [inlined]
 [14] remotecall_fetch
    @ /Net/Groups/BGI/scratch/julia/julia-1.8.1/share/julia/stdlib/v1.8/Distributed/src/workerpool.jl:229 [inlined]
 [15] #208#209
    @ /Net/Groups/BGI/scratch/julia/julia-1.8.1/share/julia/stdlib/v1.8/Distributed/src/workerpool.jl:274 [inlined]
 [16] #208
    @ /Net/Groups/BGI/scratch/julia/julia-1.8.1/share/julia/stdlib/v1.8/Distributed/src/workerpool.jl:274 [inlined]
 [17] (::Base.var"#929#934"{Distributed.var"#208#210"{Distributed.var"#208#209#211"{WorkerPool, ProgressMeter.var"#56#59"{RemoteChannel{Channel{Bool}}, YAXArrays.DAT.var"#fnew#99"{YAXArrays.DAT.var"#107#111"{YAXArrays.DAT.DATConfig{1, 1}}, Future}}}}})(r::Base.RefValue{Any}, args::Tuple{Tuple{UnitRange{Int64}}})
    @ Base ./asyncmap.jl:100
 [18] macro expansion
    @ ./asyncmap.jl:234 [inlined]
 [19] (::Base.var"#945#946"{Base.var"#929#934"{Distributed.var"#208#210"{Distributed.var"#208#209#211"{WorkerPool, ProgressMeter.var"#56#59"{RemoteChannel{Channel{Bool}}, YAXArrays.DAT.var"#fnew#99"{YAXArrays.DAT.var"#107#111"{YAXArrays.DAT.DATConfig{1, 1}}, Future}}}}}, Channel{Any}, Nothing})()
    @ Base ./task.jl:484
Stacktrace:
  [1] (::Base.var"#939#941")(x::Task)
    @ Base ./asyncmap.jl:177
  [2] foreach(f::Base.var"#939#941", itr::Vector{Any})
    @ Base ./abstractarray.jl:2774
  [3] maptwice(wrapped_f::Function, chnl::Channel{Any}, worker_tasks::Vector{Any}, c::DiskArrays.GridChunks{1})
    @ Base ./asyncmap.jl:177
  [4] wrap_n_exec_twice
    @ ./asyncmap.jl:153 [inlined]
  [5] #async_usemap#924
    @ ./asyncmap.jl:103 [inlined]
  [6] #asyncmap#923
    @ ./asyncmap.jl:81 [inlined]
  [7] pmap(f::Function, p::WorkerPool, c::DiskArrays.GridChunks{1}; distributed::Bool, batch_size::Int64, on_error::Nothing, retry_delays::Vector{Any}, retry_check::Nothing)
    @ Distributed /Net/Groups/BGI/scratch/julia/julia-1.8.1/share/julia/stdlib/v1.8/Distributed/src/pmap.jl:126
  [8] pmap(f::Function, p::WorkerPool, c::DiskArrays.GridChunks{1})
    @ Distributed /Net/Groups/BGI/scratch/julia/julia-1.8.1/share/julia/stdlib/v1.8/Distributed/src/pmap.jl:99
  [9] macro expansion
    @ /Net/Groups/BGI/scratch/mweynants/julia_depots/packages/ProgressMeter/sN2xr/src/ProgressMeter.jl:1015 [inlined]
 [10] macro expansion
    @ ./task.jl:454 [inlined]
 [11] macro expansion
    @ /Net/Groups/BGI/scratch/mweynants/julia_depots/packages/ProgressMeter/sN2xr/src/ProgressMeter.jl:1014 [inlined]
 [12] macro expansion
    @ ./task.jl:454 [inlined]
 [13] progress_map(::Function, ::Vararg{Any}; mapfun::typeof(pmap), progress::ProgressMeter.Progress, channel_bufflen::Int64, kwargs::Base.Pairs{Symbol, Union{}, Tuple{}, NamedTuple{(), Tuple{}}})
    @ ProgressMeter /Net/Groups/BGI/scratch/mweynants/julia_depots/packages/ProgressMeter/sN2xr/src/ProgressMeter.jl:1007
 [14] #progress_pmap#60
    @ /Net/Groups/BGI/scratch/mweynants/julia_depots/packages/ProgressMeter/sN2xr/src/ProgressMeter.jl:1032 [inlined]
 [15] pmap_with_data(f::Function, p::WorkerPool, c::DiskArrays.GridChunks{1}; initfunc::Function, progress::ProgressMeter.Progress, kwargs::Base.Pairs{Symbol, Union{}, Tuple{}, NamedTuple{(), Tuple{}}})
    @ YAXArrays.DAT /Net/Groups/BGI/scratch/mweynants/julia_depots/packages/YAXArrays/LgxQX/src/DAT/DAT.jl:665
 [16] pmap_with_data(f::Function, c::DiskArrays.GridChunks{1}; initfunc::Function, kwargs::Base.Pairs{Symbol, ProgressMeter.Progress, Tuple{Symbol}, NamedTuple{(:progress,), Tuple{ProgressMeter.Progress}}})
    @ YAXArrays.DAT /Net/Groups/BGI/scratch/mweynants/julia_depots/packages/YAXArrays/LgxQX/src/DAT/DAT.jl:670
 [17] runLoop(dc::YAXArrays.DAT.DATConfig{1, 1}, showprog::Bool)
    @ YAXArrays.DAT /Net/Groups/BGI/scratch/mweynants/julia_depots/packages/YAXArrays/LgxQX/src/DAT/DAT.jl:695
 [18] mapCube(::var"#applylowpass#9"{var"#applylowpass#6#10"}, ::Tuple{YAXArray{Union{Missing, Float64}, 3, DiskArrayTools.CFDiskArray{Float64, 3, Float64, ZArray{Float64, 3, Zarr.BloscCompressor, DirectoryStore}}, Vector{RangeAxis}}}; max_cache::Float64, indims::InDims, outdims::OutDims, inplace::Bool, ispar::Bool, debug::Bool, include_loopvars::Bool, showprog::Bool, irregular_loopranges::Bool, nthreads::Dict{Int64, Int64}, loopchunksize::Dict{Any, Any}, kwargs::Base.Pairs{Symbol, Int64, Tuple{Symbol, Symbol}, NamedTuple{(:lbord, :width), Tuple{Int64, Int64}}})
    @ YAXArrays.DAT /Net/Groups/BGI/scratch/mweynants/julia_depots/packages/YAXArrays/LgxQX/src/DAT/DAT.jl:475
 [19] #mapCube#36
    @ /Net/Groups/BGI/scratch/mweynants/julia_depots/packages/YAXArrays/LgxQX/src/DAT/DAT.jl:303 [inlined]
 [20] smooth(inputcube::YAXArray{Union{Missing, Float64}, 3, DiskArrayTools.CFDiskArray{Float64, 3, Float64, ZArray{Float64, 3, Zarr.BloscCompressor, DirectoryStore}}, Vector{RangeAxis}}, outputpath::String; lbord::Int64, width::Int64, backend::Symbol, overwrite::Bool, max_cache::Float64)
    @ Main /Net/Groups/BGI/scratch/mweynants/ExtremeEvents/src/detection.jl:113
 [21] top-level scope
    @ /Net/Groups/BGI/scratch/mweynants/ExtremeEvents/scripts/smooth_events.jl:36
in expression starting at /Net/Groups/BGI/scratch/mweynants/ExtremeEvents/scripts/smooth_events.jl:36
┌ Warning: Forcibly interrupting busy workers
│   exception = IOError: write: connection reset by peer (ECONNRESET)
└ @ Distributed /cache/build/default-amdci5-0/julialang/julia-release-1-dot-8/usr/share/julia/stdlib/v1.8/Distributed/src/cluster.jl:1252
TaskFailedException

    nested task error: KeyError: key 6 not found
    Stacktrace:
     [1] getindex
       @ ./dict.jl:498 [inlined]
     [2] interrupt(pid::Int64)
       @ Distributed /Net/Groups/BGI/scratch/julia/julia-1.8.1/share/julia/stdlib/v1.8/Distributed/src/cluster.jl:1196
     [3] (::Distributed.var"#91#92"{Int64})()
       @ Distributed ./task.jl:484

...and 3 more exceptions.

Stacktrace:
 [1] sync_end(c::Channel{Any})
   @ Base ./task.jl:436
 [2] macro expansion
   @ ./task.jl:455 [inlined]
 [3] interrupt(pids::Vector{Int64})
   @ Distributed /Net/Groups/BGI/scratch/julia/julia-1.8.1/share/julia/stdlib/v1.8/Distributed/src/cluster.jl:1219
 [4] terminate_all_workers()
   @ Distributed /Net/Groups/BGI/scratch/julia/julia-1.8.1/share/julia/stdlib/v1.8/Distributed/src/cluster.jl:1254
 [5] _atexit()
   @ Base ./initdefs.jl:372
 [6] exit
   @ ./initdefs.jl:28 [inlined]
 [7] exec_options(opts::Base.JLOptions)
   @ Base ./client.jl:308
 [8] _start()
   @ Base ./client.jl:522
      From worker 6:	  Activating project at `/Net/Groups/BGI/scratch/mweynants/ExtremeEvents`
      From worker 7:	  Activating project at `/Net/Groups/BGI/scratch/mweynants/ExtremeEvents`
      From worker 2:	  Activating project at `/Net/Groups/BGI/scratch/mweynants/ExtremeEvents`
      From worker 13:	  Activating project at `/Net/Groups/BGI/scratch/mweynants/ExtremeEvents`
      From worker 10:	  Activating project at `/Net/Groups/BGI/scratch/mweynants/ExtremeEvents`
      From worker 5:	  Activating project at `/Net/Groups/BGI/scratch/mweynants/ExtremeEvents`
      From worker 3:	  Activating project at `/Net/Groups/BGI/scratch/mweynants/ExtremeEvents`
      From worker 17:	  Activating project at `/Net/Groups/BGI/scratch/mweynants/ExtremeEvents`
      From worker 11:	  Activating project at `/Net/Groups/BGI/scratch/mweynants/ExtremeEvents`
      From worker 19:	  Activating project at `/Net/Groups/BGI/scratch/mweynants/ExtremeEvents`
      From worker 14:	  Activating project at `/Net/Groups/BGI/scratch/mweynants/ExtremeEvents`
      From worker 4:	  Activating project at `/Net/Groups/BGI/scratch/mweynants/ExtremeEvents`
      From worker 8:	  Activating project at `/Net/Groups/BGI/scratch/mweynants/ExtremeEvents`
      From worker 12:	  Activating project at `/Net/Groups/BGI/scratch/mweynants/ExtremeEvents`
      From worker 16:	  Activating project at `/Net/Groups/BGI/scratch/mweynants/ExtremeEvents`
      From worker 9:	  Activating project at `/Net/Groups/BGI/scratch/mweynants/ExtremeEvents`
      From worker 15:	  Activating project at `/Net/Groups/BGI/scratch/mweynants/ExtremeEvents`
      From worker 21:	  Activating project at `/Net/Groups/BGI/scratch/mweynants/ExtremeEvents`
      From worker 20:	  Activating project at `/Net/Groups/BGI/scratch/mweynants/ExtremeEvents`
      From worker 18:	  Activating project at `/Net/Groups/BGI/scratch/mweynants/ExtremeEvents`
slurmstepd: error: Detected 5 oom-kill event(s) in StepId=99970.batch cgroup. Some of your processes may have been killed by the cgroup out-of-memory handler.
